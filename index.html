<html>
  <style>
    #c {
      border: 1px solid black;
      width: 100%;
      height: 100%;
    }
    #gameArea {
      position:absolute;
      left:50%;
      top: 50%;
    }
  </style>
  <body>

    <div id="gameArea">
      <canvas id="c" width="400" height="300"></canvas>
    </div>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script type="text/javascript">
      var canvas, ctx, ball, player, tempY, center, newWidth, newHeight;
      var balls = [];

      function vec2(x, y) {
        this.x = x;
        this.y = y;
      }

      window.onload = init;

      function init() {
        resize();
        window.addEventListener('resize', function() {
          resize();
        });
        spawnObjects();
        animLoop();
      }

      function spawnObjects() {
        player = new Player(20);
        for (i=1; i<1000;i++) {
          var randomX = Math.floor(Math.random()*newWidth);
          var randomY = Math.floor(Math.random()*newHeight);
          balls.push(new Ball(randomX, randomY));
        }
      }

      window.requestAnimFrame = (function() {
        return window.requestAnimationFrame ||
               window.webkitRequestAnimationFrame ||
               window.mozRequestAnimationFrame ||
               window.oRequestAnimationFrame ||
               window.msRequestAnimationFrame ||
               function(callback) {
                 return window.setTimeout(callback, 1000 / 60);
               }
      })();

      function animLoop() {
        requestAnimFrame(animLoop);

        ctx.clearRect(0, 0, newWidth, newHeight);
        update();
        render();
      }

      function update() {
        for (i=0; i<balls.length;i++) {
          balls[i].checkCollision();
          balls[i].update();
        }
      }

      function render() {
        player.draw();
        for(i=0;i<balls.length;i++) {
          balls[i].draw();
        }
      }
    </script>
    <script type="text/javascript" src="entities/ball.js"></script>
    <script type="text/javascript" src="entities/player.js"></script>
    <script type="text/javascript" src="entities/resize.js"></script>
    <script type="text/javascript" src="entities/range.js"></script>
  </body>
</html>